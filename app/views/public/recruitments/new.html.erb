<h2>ご飯を食べに行きましょう！</h2>

<div>
  <div>
    <% if @recruitment.errors.any? %>
      <%= @recruitment.errors.count %>件のエラーが発生しました
      <ul>
        <% @recruitment.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% end %>
  </div>
  
  <div>
    <%= form_with model: @recruitment do |recruitment| %>
    <div>
      <div>
        <%= recruitment.label :"お店" %>
      </div>
      <div>
        <%= recruitment.select :shop_id,  @shops.map{ |shop| [shop.name, shop.id] }, { include_blank: "お気に入りの店から選択してください" } %>
        <!--@shops.map{ |shop|  [ 選択肢の表示名, 実際に送信されるデータ] }-->
        <p><%= link_to "お気に入りの店を登録しよう", shops_path %></p>
      </div>
    </div>
    
    <div>
      <div>
        <%= recruitment.label :title, 'タイトル' %>
      </div>
      <div>
        <%= recruitment.text_field :title, autofocus: true %>
      </div>
    </div>
    
    <div>
      <div>
        <%= recruitment.label :introduction, '説明文' %>
      </div>
      <div>
        <%= recruitment.text_area :introduction %>
      </div>
    </div>
    
    <div>
      <div>
        <%= recruitment.label :schedule, '日程' %>
      </div>
      <div>
        <%= recruitment.date_field :schedule, placeholder:"希望日を選択してください" %>
      </div>
    </div>
    
    <div>
      <div>
        <%= recruitment.label :number_of_people, '募集する人数' %>
      </div>
      <div>
        <%= recruitment.select :number_of_people, Recruitment.number_of_people.keys.map {|k| [I18n.t("enums.recruitment.number_of_people.#{k}"), k]} %>
      </div>
      <!--recruitment.select :number_of_people, Recruitment.number_of_people_i18n.keys, {}-->
    </div>
    
    <div>
      <div>
        <%= recruitment.label :prefecture, 'お店がある都道府県' %>
      </div>
      <div>
        <%= recruitment.select :prefecture, Recruitment.prefectures_i18n.keys, {} %>
      </div>
    </div>
    
    <div>
      <div>
        <%= recruitment.label :recruitment_gender, '募集する性別' %>
      </div>
      <div>
        <%= recruitment.radio_button :recruitment_gender, Recruitment.recruitment_genders.key(0) %>
        <%= recruitment.label :recruitment_gender, Recruitment.recruitment_genders_i18n[:male_only] %>
        <%= recruitment.radio_button :recruitment_gender, Recruitment.recruitment_genders.key(1) %>
        <%= recruitment.label :recruitment_gender, Recruitment.recruitment_genders_i18n[:female_only] %>
        <%= recruitment.radio_button :recruitment_gender, Recruitment.recruitment_genders.key(2) %>
        <%= recruitment.label :recruitment_gender, Recruitment.recruitment_genders_i18n[:anyone] %>
      </div>
    </div>
    
    <div>
      <div>
        <%= recruitment.label :deadline, '募集の締め切り日' %>
      </div>
      <div>
        <%= recruitment.datetime_field :deadline %>
      </div>
    </div>
    
    <div>
      <%= recruitment.submit "募集する" %>
    </div>
    <% end %>
  </div>
</div>